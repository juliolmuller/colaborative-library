(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a5e1676"],{"0a25":function(e,t,r){"use strict";r("af4b")},"9db2":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"user-profile"}},[r("header",[r("ViewTitle",[e._v(" Perfil do Usuário ")]),e.isEditing?e._e():r("button",{staticClass:"btn btn-sm btn-light",attrs:{type:"button"},on:{click:e.toggleEditing}},[e._v(" Editar Dados ")])],1),r("form",{on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"user-id"}},[e._v("Código de Cadastro:")]),r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.user.id,expression:"user.id",modifiers:{number:!0}}],class:e.inputStyle,attrs:{type:"text",id:"user-id",readonly:""},domProps:{value:e.user.id},on:{input:function(t){t.target.composing||e.$set(e.user,"id",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"user-name"}},[e._v("Nome Completo:")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.name,expression:"user.name",modifiers:{trim:!0}}],class:e.inputStyle,attrs:{type:"text",id:"user-name",readonly:!e.isEditing,required:"",autofocus:""},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"user-email"}},[e._v("E-mail de Contato:")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.email,expression:"user.email",modifiers:{trim:!0}}],class:e.inputStyle,attrs:{type:"email",id:"user-email",readonly:!e.isEditing,required:""},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e.isEditing?r("div",{staticClass:"card border-hero"},[r("h5",{staticClass:"card-header"},[e._v("Mudar Senha")]),r("div",{staticClass:"card-body"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"user-password"}},[e._v("Senha Atual:")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.oldPassword,expression:"user.oldPassword",modifiers:{trim:!0}}],class:e.inputStyle,attrs:{type:"password",id:"user-password",required:Boolean(e.user.newPassword||e.user.newPasswordConfirmation)},domProps:{value:e.user.oldPassword},on:{input:function(t){t.target.composing||e.$set(e.user,"oldPassword",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"user-new-password"}},[e._v("Nova Senha:")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.newPassword,expression:"user.newPassword",modifiers:{trim:!0}}],class:e.inputStyle,attrs:{type:"password",id:"user-new-password",required:Boolean(e.user.oldPassword||e.user.newPasswordConfirmation)},domProps:{value:e.user.newPassword},on:{input:function(t){t.target.composing||e.$set(e.user,"newPassword",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"user-new-password-confirmation"}},[e._v("Repetir a Nova Senha:")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.newPasswordConfirmation,expression:"user.newPasswordConfirmation",modifiers:{trim:!0}}],class:e.inputStyle,attrs:{type:"password",id:"user-new-password-confirmation",required:Boolean(e.user.oldPassword||e.user.newPassword)},domProps:{value:e.user.newPasswordConfirmation},on:{input:function(t){t.target.composing||e.$set(e.user,"newPasswordConfirmation",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.passwordsMatch?e._e():r("div",{staticClass:"error-feedback"},[e._v(" A nova senha e sua confirmação não conferem. ")])])])]):e._e(),r("div",{staticClass:"action-btn"},[e.isEditing?r("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:e.toggleEditing}},[e._v("Cancelar")]):e._e(),e.isEditing?r("button",{staticClass:"btn btn-hero",attrs:{type:"submit",disabled:!e.passwordsMatch||e.isLoading}},[e._v("Concluído")]):e._e()])])])},a=[],i=(r("d3b7"),r("96cf"),r("1da1")),n=r("5530"),o=r("2f62"),u=r("d246"),d={name:"UserProfile",components:{ViewTitle:u["a"]},data:function(){return{isLoading:!1,isEditing:!1,dataBackup:{},user:{}}},computed:Object(n["a"])(Object(n["a"])({},Object(o["c"])({appLoading:"isLoading",userById:"users/userById",userData:"auth/userData"})),{},{passwordsMatch:function(){return this.user.newPassword===this.user.newPasswordConfirmation},inputStyle:function(){return{"form-control":this.isEditing,"form-control-plaintext":!this.isEditing,"font-weight-bold":!this.isEditing,"text-hero":!this.isEditing}}}),watch:{user:function(e){this.dataBackup=Object(n["a"])({},e)}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])("auth",{updateUserData:"update"})),{},{toggleEditing:function(){this.isEditing=!this.isEditing,this.user=Object(n["a"])({},this.dataBackup)},handleSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.prev=1,t.next=4,e.updateUserData(e.user);case 4:e.isEditing=!1,t.next=10;break;case 7:throw t.prev=7,t.t0=t["catch"](1),t.t0;case 10:return t.prev=10,e.isLoading=!1,t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[1,7,10,13]])})))()}}),mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){while(e.appLoading);t()}));case 2:e.user=Object(n["a"])(Object(n["a"])({},e.userData),{},{oldPassword:"",newPassword:"",newPasswordConfirmation:""});case 3:case"end":return t.stop()}}),t)})))()}},l=d,c=(r("f36d"),r("2877")),m=Object(c["a"])(l,s,a,!1,null,null,null);t["default"]=m.exports},af4b:function(e,t,r){},d246:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h2",{staticClass:"h1",attrs:{id:"view-title"}},[e._t("default")],2)},a=[],i={name:"ViewTitle"},n=i,o=(r("0a25"),r("2877")),u=Object(o["a"])(n,s,a,!1,null,null,null);t["a"]=u.exports},dcf9:function(e,t,r){},f36d:function(e,t,r){"use strict";r("dcf9")}}]);
//# sourceMappingURL=chunk-5a5e1676-legacy.1db7faef.js.map