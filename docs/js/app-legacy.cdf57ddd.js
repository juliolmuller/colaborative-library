(function(e){function t(t){for(var r,a,u=t[0],c=t[1],l=t[2],d=t[3]||[],p=0,f=[];p<u.length;p++)a=u[p],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);m&&m(t),i.push.apply(i,d);while(f.length)f.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,a=1;a<n.length;a++){var l=n[a];0!==o[l]&&(r=!1)}r&&(s.splice(t--,1),e=c(c.s=n[0]))}return 0===s.length&&(i.forEach((function(e){if(void 0===o[e]){o[e]=null;var t=document.createElement("link");c.nc&&t.setAttribute("nonce",c.nc),t.rel="prefetch",t.as="script",t.href=u(e),document.head.appendChild(t)}})),i.length=0),e}var r={},a={app:0},o={app:0},s=[],i=[];function u(e){return c.p+"js/"+({}[e]||e)+"-legacy."+{"chunk-01d92af5":"42332aac","chunk-3562f6c1":"f2cfec15","chunk-5a5e1676":"1db7faef","chunk-7d848584":"99beb568","chunk-9ee37ea0":"4ec37082"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-01d92af5":1,"chunk-3562f6c1":1,"chunk-5a5e1676":1,"chunk-7d848584":1,"chunk-9ee37ea0":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-01d92af5":"c8ed77f3","chunk-3562f6c1":"8fd10d77","chunk-5a5e1676":"ca7eef98","chunk-7d848584":"ca7eef98","chunk-9ee37ea0":"aef4760c"}[e]+".css",o=c.p+r,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var u=s[i],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===o))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){u=d[i],l=u.getAttribute("data-href");if(l===r||l===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=r,delete a[e],p.parentNode.removeChild(p),n(s)},p.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var s=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=s);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=u(e);var d=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(p);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}o[e]=void 0}};var p=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=t,l=l.slice();for(var p=0;p<l.length;p++)t(l[p]);var m=d,f=function(){return s.push([0,"chunk-vendors"]),n()}();t([[],{},0,["chunk-3562f6c1","chunk-7d848584","chunk-9ee37ea0","chunk-5a5e1676","chunk-01d92af5"]])})({0:function(e,t,n){e.exports=n("56d7")},2241:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"h1",attrs:{id:"logo"}},[e._v(" Estante"),n("span",{staticClass:"badge badge-hero p-1"},[e._v("Virtual")])])}],o={name:"Logo"},s=o,i=(n("c4ed"),n("2877")),u=Object(i["a"])(s,r,a,!1,null,null,null);t["a"]=u.exports},2267:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=(n("d3b7"),n("96cf"),n("1da1")),o=n("8c4f"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"auth"}},[n("div",{staticClass:"auth-container"},[n("header",{staticClass:"auth-header"},[n("Logo")],1),n("RouterView"),n("footer",{staticClass:"auth-footer text-muted"},[e._v(" © 2019-"+e._s((new Date).getFullYear())+" "),n("strong",[e._v("LacusSoft")])])],1)])},i=[],u=n("2241"),c={components:{Logo:u["a"]}},l=c,d=(n("ef9f"),n("2877")),p=Object(d["a"])(l,s,i,!1,null,null,null),m=p.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{attrs:{id:"sign-in"},on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[n("div",{staticClass:"alert alert-danger border-danger",style:{visibility:e.errors.length?"visible":"hidden"},attrs:{role:"alert"}},e._l(e.errors,(function(t,r){return n("p",{key:r,staticClass:"text-danger"},[e._v(" "+e._s(t)+" ")])})),0),n("label",{staticClass:"sr-only",attrs:{for:"email"}},[e._v(" Endereço de email ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{id:"email",type:"email",placeholder:"Endereço de email",required:"",autofocus:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),n("label",{staticClass:"sr-only",attrs:{for:"password"}},[e._v(" Senha de acesso ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{id:"password",type:"password",placeholder:"Senha de acesso",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("label",{staticClass:"mt-2 checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.keepConnection,expression:"keepConnection"}],attrs:{type:"checkbox",value:"remember-me"},domProps:{checked:Array.isArray(e.keepConnection)?e._i(e.keepConnection,"remember-me")>-1:e.keepConnection},on:{change:function(t){var n=e.keepConnection,r=t.target,a=!!r.checked;if(Array.isArray(n)){var o="remember-me",s=e._i(n,o);r.checked?s<0&&(e.keepConnection=n.concat([o])):s>-1&&(e.keepConnection=n.slice(0,s).concat(n.slice(s+1)))}else e.keepConnection=a}}}),e._v(" Mantenha-me conectado ")]),n("button",{staticClass:"mt-3 btn btn-lg btn-hero btn-block",attrs:{type:"submit",disabled:e.isLoading}},[e._v("Entrar")]),n("p",{staticClass:"mt-1 text-center"},[e._v(" Não é cadastrado? "),n("RouterLink",{staticClass:"text-hero",attrs:{to:{name:"SignUp"}}},[e._v(" Registre-se aqui ")])],1)])},h=[],g=n("5530"),v=n("2f62"),b={data:function(){return{email:"",password:"",keepConnection:!1,errors:[],isLoading:!1}},watch:{email:function(e){this.email=e.toLowerCase()}},methods:Object(g["a"])(Object(g["a"])({},Object(v["b"])("auth",["authenticate"])),{},{handleSubmit:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.prev=1,t.next=4,e.authenticate({keepConnection:e.keepConnection,password:e.password,email:e.email});case 4:if(n=t.sent,!n){t.next=8;break}return e.$router.push({name:"Home"}),t.abrupt("return");case 8:e.errors=["Email e senha não conferem"],e.isLoading=!1,e.password="",t.next=18;break;case 13:t.prev=13,t.t0=t["catch"](1),console.error(t.t0),e.isLoading=!1,e.errors=[t.t0.message];case 18:case"end":return t.stop()}}),t,null,[[1,13]])})))()}})},w=b,k=(n("b6b3"),Object(d["a"])(w,f,h,!1,null,null,null)),x=k.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{attrs:{id:"sign-up"},on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[n("div",{staticClass:"alert alert-danger border-danger",style:{visibility:e.errors.length?"visible":"hidden"},attrs:{role:"alert"}},e._l(e.errors,(function(t,r){return n("p",{key:r,staticClass:"text-danger"},[e._v(" "+e._s(t)+" ")])})),0),n("label",{staticClass:"sr-only",attrs:{for:"name"}},[e._v(" Nome do usuário ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{id:"name",type:"text",placeholder:"Nome do usuário",required:"",autofocus:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),n("label",{staticClass:"sr-only",attrs:{for:"email"}},[e._v(" Endereço de email ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{id:"email",type:"email",placeholder:"Endereço de email",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),n("label",{staticClass:"sr-only",attrs:{for:"password"}},[e._v(" Senha de acesso ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{id:"password",type:"password",placeholder:"Senha de acesso",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("label",{staticClass:"sr-only",attrs:{for:"password-confirmation"}},[e._v(" Confirmação da senha ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.passwordConfirmation,expression:"passwordConfirmation"}],staticClass:"form-control",attrs:{id:"password-confirmation",type:"password",placeholder:"Confirmação da senha",required:""},domProps:{value:e.passwordConfirmation},on:{input:function(t){t.target.composing||(e.passwordConfirmation=t.target.value)}}}),n("button",{staticClass:"btn btn-lg btn-hero",attrs:{type:"submit",disabled:e.isLoading}},[e._v("Cadastrar")]),n("p",{staticClass:"mt-1 text-center"},[n("RouterLink",{staticClass:"text-hero",attrs:{to:{name:"SignIn"}}},[e._v(" Já sou cadastrado ")])],1)])},C=[],O=(n("b0c0"),n("3835")),j=(n("99af"),n("d4ec")),_=n("bee2"),S=n("b383"),R=n.n(S),L=n("bc3a"),E=n.n(L),F=function(){function e(t){Object(j["a"])(this,e),this.http=E.a.create({baseURL:"".concat("https://collaborative-library.herokuapp.com","/").concat(t)})}return Object(_["a"])(e,[{key:"get",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t?R.a.stringify(t):"",e.next=3,this.http.get("/?_limit=100&".concat(n));case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getOne",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.http.get("/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"post",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.http.post("/",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"put",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.http.put("/".concat(t.id),t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.http.delete("/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),D=F,B=new D("books"),P=new D("users"),A={data:function(){return{name:"",email:"",password:"",passwordConfirmation:"",errors:[],isLoading:!1}},watch:{email:function(e){this.email=e.toLowerCase()}},methods:Object(g["a"])(Object(g["a"])({},Object(v["b"])("auth",["authenticate"])),{},{handleSubmit:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,P.get({email:e.email});case 3:if(n=t.sent,r=Object(O["a"])(n,1),a=r[0],o=e.password===e.passwordConfirmation,!a&&o){t.next=15;break}return e.passwordConfirmation="",e.password="",e.errors=[],a&&e.errors.push("Email já está cadastrado"),!o&&e.errors.push("As senhas não são iguais"),e.isLoading=!1,t.abrupt("return");case 15:return t.prev=15,t.next=18,P.post({password:e.password,email:e.email,name:e.name});case 18:return s=t.sent,t.next=21,e.authenticate(s);case 21:e.$router.push({name:"Home"}),t.next=29;break;case 24:t.prev=24,t.t0=t["catch"](15),console.error(t.t0),e.isLoading=!1,e.errors=[t.t0.message];case 29:case"end":return t.stop()}}),t,null,[[15,24]])})))()}})},I=A,N=Object(d["a"])(I,y,C,!1,null,null,null),U=N.exports,$="user-data",q={namespaced:"auth",state:{userData:null},getters:{isAuthenticated:function(e){return Boolean(e.userData)},userData:function(e){var t,n,r;return{email:null===(t=e.userData)||void 0===t?void 0:t.email,name:null===(n=e.userData)||void 0===n?void 0:n.name,id:null===(r=e.userData)||void 0===r?void 0:r.id}}},mutations:{setUserData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.userData=t},setBrowserStorage:function(e,t){if(e.userData){var n=JSON.stringify(e.userData);t.setItem($,n)}else sessionStorage.removeItem($),localStorage.removeItem($)}},actions:{authenticate:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var r,a,o,s,i,u,c,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.email,o=t.password,s=t.keepConnection,n.next=4,P.get({email:a,password:o});case 4:if(i=n.sent,u=Object(O["a"])(i,1),c=u[0],l=s?localStorage:sessionStorage,c){n.next=10;break}return n.abrupt("return",!1);case 10:return r("setUserData",c),r("setBrowserStorage",l),n.abrupt("return",!0);case 13:case"end":return n.stop()}}),n)})))()},retrieveFromStorage:function(){var e=localStorage.getItem($),t=sessionStorage.getItem($),n=JSON.parse(e||t),r=e?localStorage:sessionStorage;return{userData:n,storage:r}},signOut:function(e){var t=e.commit;t("setUserData"),t("setBrowserStorage")},update:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var r,a,o,s,i,u,c,l,d,p,m,f;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,a=t.id,o=t.name,s=t.email,i=t.oldPassword,u=t.newPassword,n.next=4,r("retrieveFromStorage");case 4:return c=n.sent,l=c.storage,d=l===localStorage,n.next=9,P.getOne(a);case 9:return p=n.sent,m=i===p.password?u||i:p.password,n.next=13,P.put({id:a,name:o,email:s,password:m});case 13:return f=n.sent,n.next=16,r("authenticate",Object(g["a"])(Object(g["a"])({},f),{},{keepConnection:d}));case 16:case"end":return n.stop()}}),n)})))()}}},T=(n("4de4"),n("7db0"),n("d81d"),n("fb6a"),n("2909")),M={namespaced:"books",state:{isFetching:!1,books:[]},getters:{isFetching:function(e){return e.isFetching},allBooks:function(e){return e.books},availableBooks:function(e){return e.books.filter((function(e){return!e.loan}))},borrowedBooks:function(e){return e.books.filter((function(e){return e.loan}))},userBooks:function(e,t,n,r){var a,o=null===(a=r["auth/userData"])||void 0===a?void 0:a.id;return e.books.filter((function(e){return e.userId===o}))},userLoans:function(e,t,n,r){var a,o=null===(a=r["auth/userData"])||void 0===a?void 0:a.id;return e.books.filter((function(e){var t;return(null===(t=e.loan)||void 0===t?void 0:t.userId)===o}))}},mutations:{setFetching:function(e,t){e.isFetching=t},toggleFetching:function(e){e.isFetching=!e.isFetching},setBooks:function(e,t){e.books=t},removeBook:function(e,t){e.books=e.books.filter((function(e){var n=e.id;return t!==n}))},updateOrPushBook:function(e,t){var n=!1,r=e.books.map((function(e){return e.id===t.id?(n=!0,t):e}));e.books=n?r:[].concat(Object(T["a"])(e.books),[t])}},actions:{fetchAll:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,n("setFetching",!0),t.t0=n,t.next=5,B.get();case 5:t.t1=t.sent,(0,t.t0)("setBooks",t.t1),n("setFetching",!1);case 8:case"end":return t.stop()}}),t)})))()},create:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var r,a,o,s,i,u,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.rootGetters,o=t.name,s=t.image,i=!1,u=a["auth/userData"].id,n.next=6,B.post({name:o,image:s,userId:u,loan:i});case 6:return c=n.sent,r("updateOrPushBook",c),n.abrupt("return",c);case 9:case"end":return n.stop()}}),n)})))()},update:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var r,a,o,s,i,u,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.id,o=t.name,s=t.image,i=t.userId,u=t.loan,n.next=4,B.put({id:a,name:o,image:s,userId:i,loan:u});case 4:c=n.sent,r("updateOrPushBook",c);case 6:case"end":return n.stop()}}),n)})))()},borrow:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var r,a,o,s,i,u,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,a=e.rootGetters,o=t.id,s=a["books/allBooks"].find((function(e){return e.id===o})),i=(new Date).toISOString().slice(0,10),u=a["auth/userData"].id,c={date:i,userId:u},n.next=8,r("update",Object(g["a"])(Object(g["a"])({},s),{},{loan:c}));case 8:case"end":return n.stop()}}),n)})))()},return:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var r,a,o,s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,a=e.rootGetters,o=t.id,s=a["books/allBooks"].find((function(e){return e.id===o})),i=!1,n.next=6,r("update",Object(g["a"])(Object(g["a"])({},s),{},{loan:i}));case 6:case"end":return n.stop()}}),n)})))()},delete:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.id,n.next=4,B.delete(a);case 4:r("removeBook",a);case 5:case"end":return n.stop()}}),n)})))()}}},J=(n("a9e3"),{namespaced:"users",state:{isFetching:!1,users:[]},getters:{isFetching:function(e){return e.isFetching},allUsers:function(e){return e.users},userById:function(e){return function(t){var n=e.users.find((function(e){return e.id===Number(t)}));return n&&{id:n.id,name:n.name,email:n.email}}}},mutations:{setFetching:function(e,t){e.isFetching=t},toggleFetching:function(e){e.isFetching=!e.isFetching},setUsers:function(e,t){e.users=t}},actions:{fetchAll:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,n("setFetching",!0),t.t0=n,t.next=5,P.get();case 5:t.t1=t.sent,(0,t.t0)("setUsers",t.t1),n("setFetching",!1);case 8:case"end":return t.stop()}}),t)})))()}}});r["a"].use(v["a"]);var H=new v["a"].Store({getters:{isLoading:function(e,t){return t["books/isFetching"]||t["users/isFetching"]}},modules:{auth:q,books:M,users:J}}),G=H,V=function(){return n.e("chunk-01d92af5").then(n.bind(null,"16c0"))},K=function(){return n.e("chunk-3562f6c1").then(n.bind(null,"9261"))},Y=function(){return n.e("chunk-7d848584").then(n.bind(null,"02b3"))},z=function(){return n.e("chunk-9ee37ea0").then(n.bind(null,"069c"))},Q=function(){return n.e("chunk-5a5e1676").then(n.bind(null,"9db2"))};r["a"].use(o["a"]);var W=function(e,t,n){Object(a["a"])(regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(G.getters["auth/isAuthenticated"]){e.next=8;break}return e.next=3,G.dispatch("auth/retrieveFromStorage");case 3:t=e.sent,r=t.userData,a=t.storage,G.commit("auth/setUserData",r),G.commit("auth/setBrowserStorage",a);case 8:G.getters["auth/isAuthenticated"]?n():n({name:"SignIn"});case 9:case"end":return e.stop()}}),e)})))()},X=[{path:"/entrar",component:m,children:[{path:"/entrar",name:"SignIn",component:x},{path:"/cadastrar",name:"SignUp",component:U}]},{path:"/",component:V,beforeEnter:W,children:[{path:"/",name:"Home",component:K},{path:"/livros/:bookId",name:"BookDetails",component:Y,props:!0},{path:"/meus-livros",name:"UserBooks",component:z,props:{title:"Meus Livros",type:"userBooks"}},{path:"/meus-emprestimos",name:"UserLoans",component:z,props:{title:"Meus Empréstimos",type:"userLoans"}},{path:"/meu-perfil",name:"UserProfile",component:Q}]},{path:"*",redirect:"/"}],Z=new o["a"]({mode:"hash",routes:X}),ee=Z,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("RouterView")],1)},ne=[],re={name:"App",beforeCreate:function(){this.$store.dispatch("users/fetchAll"),this.$store.dispatch("books/fetchAll")}},ae=re,oe=(n("5c0b"),Object(d["a"])(ae,te,ne,!1,null,null,null)),se=oe.exports;r["a"].config.productionTip=!1,new r["a"]({router:ee,store:G,render:function(e){return e(se)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("9c0c")},6860:function(e,t,n){},"9c0c":function(e,t,n){},"9cc8":function(e,t,n){},b6b3:function(e,t,n){"use strict";n("6860")},c4ed:function(e,t,n){"use strict";n("9cc8")},ef9f:function(e,t,n){"use strict";n("2267")}});
//# sourceMappingURL=app-legacy.cdf57ddd.js.map