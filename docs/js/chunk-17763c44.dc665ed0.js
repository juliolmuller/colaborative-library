(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17763c44"],{"0a25":function(t,e,s){"use strict";s("af4b")},"17e3":function(t,e,s){"use strict";s("e607")},4045:function(t,e,s){t.exports=s.p+"img/loading.3ec89fd3.svg"},9261:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"bookshelves"}},[a("ViewTitle",[t._v(" Escolha o seu livro na estante ")]),a("div",{staticClass:"row"},[a("div",{staticClass:"search-container col-12 col-lg-6 order-lg-2 col-xl-4 offset-xl-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"search",placeholder:"Pesquisar por título..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),a("img",{attrs:{src:s("d8e7"),alt:"Ícone de busca"}})]),a("div",{staticClass:"filter-container col-12 col-lg-6 order-lg-1 col-xl-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"sr-only",attrs:{type:"radio",id:"filter-1",value:"available"},domProps:{checked:t._q(t.filter,"available")},on:{change:function(e){t.filter="available"}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"sr-only",attrs:{type:"radio",id:"filter-2",value:"borrowed"},domProps:{checked:t._q(t.filter,"borrowed")},on:{change:function(e){t.filter="borrowed"}}}),a("label",{class:["btn","available"===t.filter?"btn-hero":"btn-outline-hero"],attrs:{for:"filter-1"}},[t._v("Livros Disponíveis")]),a("label",{class:["btn","borrowed"===t.filter?"btn-hero":"btn-outline-hero"],attrs:{for:"filter-2"}},[t._v("Livros Emprestados")])])]),t.booksLoading?a("div",{staticClass:"loading"},[a("img",{attrs:{src:s("4045"),alt:"Carregando..."}})]):t.allBooks.length?t.visibleBooks.length?a("BooksDeck",{attrs:{books:t.visibleBooks,count:t.visibleBooks.length}}):a("div",{staticClass:"fallback-msg"},[t._v(' Nenhum resultado para "'+t._s(t.search)+'" 🙄 ')]):a("div",{staticClass:"fallback-msg"},[t._v(" Não há livros cadastrados ")])],1)},i=[],o=s("2f62"),r=s("d246"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"deck",staticClass:"books-deck row"},[t._l(t.books,(function(t){return s("BookCard",{key:t.id,staticClass:"col",attrs:{image:t.image,title:t.name,id:t.id}})})),t._l(t.spacers,(function(t){return s("div",{key:t,staticClass:"col"})}))],2)},c=[],n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"book-card"},[s("div",{staticClass:"card rounded"},[s("img",{staticClass:"card-img-top",attrs:{src:t.image,alt:"Capa do livro"}}),s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title",attrs:{title:t.title}},[t._v(" "+t._s(t._f("truncate")(t.title))+" ")])]),s("div",{staticClass:"card-footer"},[s("RouterLink",{staticClass:"btn btn-hero",attrs:{to:t.route}},[t._v(" Ver Detalhes ")])],1)])])},d=[],u=s("ccc1"),f={name:"BookCard",filters:{truncate:u["a"]},props:{id:{type:Number,required:!0},title:{type:String,required:!0},image:{type:String,required:!0}},computed:{route(){return{name:"BookDetails",params:{bookId:this.id}}}}},h=f,v=(s("c14c"),s("2877")),p=Object(v["a"])(h,n,d,!1,null,null,null),b=p.exports;const m=250;var k={nmae:"BooksDeck",components:{BookCard:b},props:{books:{type:Array,required:!0}},data:()=>({spacers:[]}),methods:{setSpacers(){const t=this.$refs.deck.clientWidth,e=parseInt(t/m,10),s=Math.ceil(this.books.length/e),a=e*s-this.books.length;this.spacers=new Array(a||0).fill().map((t,e)=>e)}},mounted(){this.setSpacers(),window.onresize=()=>{var t;null!==this&&void 0!==this&&null!==(t=this.$refs)&&void 0!==t&&t.deck&&this.setSpacers()}}},g=k,w=(s("17e3"),Object(v["a"])(g,l,c,!1,null,null,null)),C=w.exports,_={name:"Bookshelves",components:{ViewTitle:r["a"],BooksDeck:C},data:()=>({search:"",filter:"available"}),computed:{...Object(o["c"])({booksLoading:"books/isFetching"}),...Object(o["c"])("books",["borrowedBooks","availableBooks","allBooks"]),visibleBooks(){const t=this[this.filter+"Books"],e=new RegExp(this.search,"i");return this.search?t.filter(({name:t})=>t.match(e)):t}}},B=_,y=(s("e526"),Object(v["a"])(B,a,i,!1,null,null,null));e["default"]=y.exports},"9a65":function(t,e,s){},a83b:function(t,e,s){},af4b:function(t,e,s){},c14c:function(t,e,s){"use strict";s("a83b")},ccc1:function(t,e,s){"use strict";const a=60,i=(t,e=a,s="...")=>{if(!t||"string"!==typeof t)return t;if(t.length<=e)return t;const i=e-s.length;let o=t.slice(0,i),r=o.length-1;while(r>0&&" "!==o[r]&&o[r]!==s[0])r--;return r=r||i,o=o.slice(0,r),o+s};e["a"]=i},d246:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h2",{staticClass:"h1",attrs:{id:"view-title"}},[t._t("default")],2)},i=[],o={name:"ViewTitle"},r=o,l=(s("0a25"),s("2877")),c=Object(l["a"])(r,a,i,!1,null,null,null);e["a"]=c.exports},d8e7:function(t,e,s){t.exports=s.p+"img/search-icon.c073fa92.svg"},e526:function(t,e,s){"use strict";s("9a65")},e607:function(t,e,s){}}]);
//# sourceMappingURL=chunk-17763c44.dc665ed0.js.map